# ERISA - Embeddable Reduced Instruction Set Architecture
# Copyright (C) 2022  Maciej Sawka maciejsawka@gmail.com, msaw328@kretes.xyz

# This is a configuration file which describes the ISA
# it is used to generate isa.h header file before building
# decoding, encoding and implementation of each instruction has to be supplied manually

NOP:
  description: "No Operation"
  example_bytes: "[0x90]"
  example_disasm: "nop;"
  op: 0x90
  mask: 0xff
  length: 1
  operands: []

JMPABS:
  description: "Jump to Absolute address"
  example_bytes: "[0x91, 0x06, 0x00, 0x00, 0x00]"
  example_disasm: "jmpabs $0x6;"
  op: 0x91
  mask: 0xff
  length: 5
  operands: [addr]

PUSH:
  description: "Push"
  example_bytes: "[0x54]"
  example_disasm: "push %gpr4;"
  op: 0x50
  mask: 0xf0
  length: 1
  operands: [src]

POP:
  description: "Pop"
  example_bytes: "[0x64]"
  example_disasm: "pop %gpr4;"
  op: 0x60
  mask: 0xf0
  length: 1
  operands: [dst]

STI:
  description: "Store Immediate"
  example_bytes: "[0x72, 0xff, 0x00, 0x00, 0xdd]"
  example_disasm: "sti %gpr2, $0xdd0000ff;"
  op: 0x70
  mask: 0xf0
  length: 5
  operands: [dst, imm]

MOV:
  description: "Move from Register to Register"
  example_bytes: "[0xc0, 0x17]"
  example_disasm: "mov %gpr1, %gpr7;"
  op: 0xc0
  mask: 0xff
  length: 2
  operands: [dst, src]

XOR:
  description: "Calculate XOR of dst and src, store result in dst"
  example_bytes: "[0xa0, 0x17]"
  example_disasm: "xor %gpr1, %gpr7;"
  op: 0xa0
  mask: 0xff
  length: 2
  operands: [dst, src]

ADD:
  description: "Add src to dst and store in dst (with carry)"
  example_bytes: "[0xa1, 0x17]"
  example_disasm: "add %gpr1, %gpr7;"
  op: 0xa1
  mask: 0xff
  length: 2
  operands: [dst, src]
